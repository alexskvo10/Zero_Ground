# Отображение оружия в инвентаре

## Обзор изменений

Добавлена визуализация оружия в системе инвентаря. Теперь игрок может видеть свое оружие в ячейках инвентаря с информацией о патронах.

## Что было добавлено

### 1. Отображение оружия в ячейках

Первые 4 ячейки инвентаря (слоты 1-4) теперь отображают оружие, если оно есть:

- **Название оружия** - отображается в центре ячейки (шрифт 16)
- **Количество патронов** - формат "текущие/запас" под названием (шрифт 14)
- **Номер слота** - в левом верхнем углу (шрифт 18, полупрозрачный)

### 2. Подсветка активного оружия

Активное оружие (которое сейчас в руках) выделяется:
- Желтоватый фон ячейки RGB(70, 70, 30)
- Золотая рамка RGB(255, 215, 0)
- Толщина рамки 2 пикселя

### 3. Пустые ячейки

Пустые ячейки отображают только номер в центре:
- Приглушенный серый цвет RGB(100, 100, 100)
- Крупный шрифт (32)
- Пониженная прозрачность (200/255)

## Как это работает

### Открытие инвентаря

Нажмите клавишу **E** (или **У** на русской раскладке) для открытия/закрытия инвентаря.

### Переключение оружия

Используйте клавиши **1-4** для переключения между оружием в слотах:
- **1** - первый слот (по умолчанию USP)
- **2** - второй слот
- **3** - третий слот
- **4** - четвертый слот

### Визуальная обратная связь

- Активное оружие подсвечивается золотой рамкой
- Количество патронов обновляется в реальном времени
- Пустые слоты показывают только номер

## Пример отображения

```
┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐
│1  USP   │ │2 Glock  │ │    3    │ │    4    │ │    5    │ │    6    │
│ 12/100  │ │ 20/120  │ │         │ │         │ │         │ │         │
└─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────┘
  (золотая     (обычная     (пустая)   (пустая)   (пустая)   (пустая)
   рамка -      рамка)
   активное)
```

## Технические детали

### Измененные файлы

- `Zero_Ground_client/Zero_Ground_client.cpp` - добавлена логика отображения оружия в инвентаре клиента
- `Zero_Ground/Zero_Ground.cpp` - добавлена логика отображения оружия в инвентаре сервера
- `INVENTORY_SYSTEM.md` - обновлена документация системы инвентаря

### Ключевые изменения в коде

1. **Проверка наличия оружия в слоте**
   ```cpp
   Weapon* slotWeapon = nullptr;
   if (i < 4) { // Только первые 4 слота могут содержать оружие
       slotWeapon = clientPlayer.inventory[i];
   }
   ```

2. **Определение активного слота**
   ```cpp
   bool isActiveSlot = (i == clientPlayer.activeSlot);
   ```

3. **Отрисовка информации об оружии**
   - Название оружия: `slotWeapon->name`
   - Патроны: `currentAmmo/reserveAmmo`
   - Номер слота в углу для заполненных ячеек

4. **Визуальное выделение активного оружия**
   - Изменение цвета фона и рамки для активного слота
   - Золотая рамка вместо серой

## Совместимость

- ✅ Работает с существующей системой оружия
- ✅ Совместимо с анимацией открытия/закрытия инвентаря
- ✅ Поддерживает все типы оружия (пистолеты, винтовки, снайперские винтовки)
- ✅ Обновляется в реальном времени при стрельбе и перезарядке

## Будущие улучшения

- [ ] Клик по ячейке для выбора оружия
- [ ] Drag & Drop для перемещения оружия между слотами
- [ ] Иконки оружия вместо текста
- [ ] Индикатор перезарядки на ячейке
- [ ] Звуковые эффекты при переключении оружия
