# Функция всплывающих подсказок для оружия в магазине

## Описание
Добавлена функциональность отображения детальных характеристик оружия при наведении курсора мыши на слот оружия в магазине.

## Реализация

### Новая функция: `renderWeaponTooltip`
Расположение: `Zero_Ground_client/Zero_Ground_client.cpp`

Функция отображает всплывающее окно (tooltip) с полными характеристиками оружия:
- Название оружия (золотым цветом, жирным шрифтом)
- Цена (светло-зелёным цветом)
- Разделительная линия
- Детальные характеристики:
  - Урон (Damage)
  - Размер магазина (Magazine)
  - Запас патронов (Reserve Ammo)
  - Дальность (Range) в пикселях
  - Скорость пули (Bullet Speed) в пикселях/секунду
  - Время перезарядки (Reload Time) в секундах
  - Скорость передвижения (Movement Speed)
  - Режим огня (Fire Mode): автоматический с указанием скорострельности или полуавтоматический

### Визуальный дизайн
- **Размер окна**: 320×290 пикселей
- **Фон**: Тёмно-серый (20, 20, 20) с прозрачностью 240/255
- **Рамка**: Золотая (255, 215, 0), толщина 2 пикселя
- **Позиционирование**: Автоматически подстраивается, чтобы не выходить за границы экрана
  - По умолчанию: справа и снизу от курсора (+20px)
  - При выходе за границы: слева или выше курсора

### Интеграция в UI магазина
Модифицирована функция `renderShopUI`:
- Добавлена проверка наведения мыши на каждый слот оружия
- При наведении информация о оружии сохраняется для отрисовки в конце
- Tooltip отрисовывается в самом конце функции, поверх всех остальных элементов UI
- Это гарантирует, что tooltip всегда видим и не перекрывается другими элементами

## Использование
1. Откройте магазин клавишей **B** (находясь рядом с магазином)
2. Наведите курсор мыши на любой слот оружия
3. Автоматически появится окно с полными характеристиками оружия
4. Tooltip следует за курсором и автоматически скрывается при уходе курсора со слота

## Технические детали

### Определение наведения
```cpp
// Проверка наведения на каждый слот оружия
sf::Vector2i mousePixelPos = sf::Mouse::getPosition(window);
sf::FloatRect weaponBounds(
    columnX + 10.0f * scale,
    weaponY,
    COLUMN_WIDTH - 20.0f * scale,
    WEAPON_HEIGHT
);

// Если наведён курсор, сохраняем оружие для отрисовки в конце
if (weaponBounds.contains(static_cast<float>(mousePixelPos.x), static_cast<float>(mousePixelPos.y))) {
    hoveredWeapon = weapon;  // Сохраняем для отрисовки позже
    hoveredMouseX = static_cast<float>(mousePixelPos.x);
    hoveredMouseY = static_cast<float>(mousePixelPos.y);
}

// В конце функции renderShopUI:
if (hoveredWeapon != nullptr) {
    renderWeaponTooltip(window, hoveredWeapon, hoveredMouseX, hoveredMouseY, font);
    delete hoveredWeapon;
}
```

### Адаптивное позиционирование
Tooltip автоматически корректирует свою позицию, чтобы оставаться видимым:
- Если выходит за правый край → смещается влево от курсора
- Если выходит за нижний край → смещается вверх от курсора
- Резервируется 150px снизу для UI элементов ("Press B to close", "E - inventory")
- Минимальные отступы от краёв экрана: 10 пикселей

## Преимущества
1. **Информативность**: Игрок видит все характеристики оружия перед покупкой
2. **Удобство**: Не нужно запоминать характеристики или искать информацию
3. **Интуитивность**: Стандартное поведение tooltip, знакомое пользователям
4. **Визуальная привлекательность**: Золотая рамка и структурированная информация
5. **Правильный Z-order**: Tooltip всегда отрисовывается поверх всех элементов UI

## Совместимость
- Работает со всеми типами оружия (пистолеты, винтовки, снайперские винтовки)
- Корректно отображается при любом разрешении экрана
- Учитывает анимацию открытия/закрытия магазина (scale)
- Не конфликтует с существующей функциональностью покупки

## Файлы изменены
- `Zero_Ground_client/Zero_Ground_client.cpp`:
  - Добавлена функция `renderWeaponTooltip` (строка ~2374)
  - Модифицирована функция `renderShopUI` (добавлена проверка наведения и вызов tooltip)
