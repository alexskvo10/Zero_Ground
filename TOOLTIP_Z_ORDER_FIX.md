# Исправление: Tooltip теперь отображается поверх всех элементов

## Проблема
Tooltip отрисовывался внутри цикла отрисовки оружия, из-за чего следующие элементы UI (другие слоты оружия, колонки) могли его перекрывать, делая его частично или полностью невидимым.

## Решение
Изменён порядок отрисовки в функции `renderShopUI`:

### До исправления
```cpp
for (каждое оружие) {
    // Отрисовка слота оружия
    
    if (наведён курсор) {
        renderWeaponTooltip();  // ❌ Рисуется сразу, может быть перекрыт
    }
}
```

### После исправления
```cpp
Weapon* hoveredWeapon = nullptr;
float hoveredMouseX = 0.0f;
float hoveredMouseY = 0.0f;

for (каждое оружие) {
    // Отрисовка слота оружия
    
    if (наведён курсор) {
        hoveredWeapon = weapon;  // ✓ Сохраняем для отрисовки позже
        hoveredMouseX = mouseX;
        hoveredMouseY = mouseY;
    }
}

// Отрисовка tooltip в самом конце
if (hoveredWeapon != nullptr) {
    renderWeaponTooltip(window, hoveredWeapon, hoveredMouseX, hoveredMouseY, font);
    delete hoveredWeapon;  // ✓ Рисуется поверх всех элементов
}
```

## Технические детали

### Изменения в коде
1. **Добавлены переменные для хранения состояния наведения:**
   ```cpp
   Weapon* hoveredWeapon = nullptr;
   float hoveredMouseX = 0.0f;
   float hoveredMouseY = 0.0f;
   ```

2. **Изменена логика в цикле отрисовки:**
   - Вместо немедленной отрисовки tooltip сохраняется указатель на оружие
   - Сохраняются координаты курсора мыши
   - Оружие не удаляется сразу, если на него наведён курсор

3. **Добавлена отрисовка в конце функции:**
   - После отрисовки всех элементов UI проверяется `hoveredWeapon`
   - Если не `nullptr`, вызывается `renderWeaponTooltip`
   - После отрисовки оружие удаляется

### Управление памятью
- Если курсор наведён на новое оружие, предыдущее `hoveredWeapon` удаляется
- После отрисовки tooltip оружие всегда удаляется
- Утечек памяти нет

## Результат
✅ Tooltip теперь **всегда** отображается поверх всех элементов UI  
✅ Tooltip полностью видим независимо от позиции курсора  
✅ Нет визуальных артефактов или перекрытий  
✅ Правильный Z-order (порядок отрисовки)  

## Тестирование
Проверьте:
1. Наведите курсор на оружие в **верхней части** списка → tooltip видим
2. Наведите курсор на оружие в **нижней части** списка → tooltip видим
3. Наведите курсор на оружие в **разных колонках** → tooltip всегда поверх
4. Быстро перемещайте курсор между слотами → нет мерцания или артефактов

## Файлы изменены
- `Zero_Ground_client/Zero_Ground_client.cpp` - функция `renderShopUI()`

## Дата исправления
25 ноября 2025
