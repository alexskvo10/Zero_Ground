# Всплывающие подсказки для патронов в магазине

## Описание
Реализована система всплывающих подсказок (tooltips) для патронов в магазине оружия. При наведении мыши на слот с патронами отображается детальная информация о товаре.

## Реализованная функциональность

### 1. Функция отображения подсказки патронов
**Функция:** `renderAmmoTooltip()`
**Расположение:** 
- `Zero_Ground_client/Zero_Ground_client.cpp` (клиент)
- `Zero_Ground/Zero_Ground.cpp` (сервер)

Отображает всплывающее окно с информацией о патронах:
- **Название патронов** (золотым цветом, жирный шрифт)
- **Цена** (зелёным цветом)
- **Количество патронов** в одной покупке
- **Совместимые типы оружия** (голубым цветом)

### 2. Информация о совместимости

Подсказка показывает, с какими типами оружия совместимы патроны:

#### Патроны 9x18
- Пистолеты:
  - USP
  - Glock-18
  - Five-SeveN
  - R8 Revolver

#### Патроны 5,45x39
- Винтовки:
  - Galil AR
  - M4
  - AK-47

#### Патроны 7,62x54
- Снайперские винтовки:
  - M10
  - AWP
  - M40

### 3. Визуальное оформление

**Размеры окна подсказки:**
- Ширина: 320 пикселей
- Высота: 220 пикселей
- Отступы: 15 пикселей

**Цветовая схема:**
- Фон: тёмно-серый (20, 20, 20) с прозрачностью 240
- Рамка: золотая (255, 215, 0), толщина 2 пикселя
- Название: золотой цвет (255, 215, 0)
- Цена: светло-зелёный (100, 255, 100)
- Количество: белый
- Список оружия: светло-голубой (150, 200, 255)

### 4. Позиционирование подсказки

Подсказка автоматически позиционируется:
- По умолчанию: справа и снизу от курсора (+20px)
- Если выходит за правый край экрана: слева от курсора
- Если выходит за нижний край: сверху от курсора
- Резервируется 150px снизу для UI элементов
- Минимальные отступы от краёв экрана: 10px

### 5. Интеграция с магазином

**Обработка наведения мыши:**
- Проверяется позиция курсора относительно каждого слота патронов
- При наведении создаётся временный объект `AmmoItem*`
- Подсказка отрисовывается поверх всех UI элементов
- После отрисовки объект удаляется для освобождения памяти

**Переменные для хранения состояния:**
```cpp
AmmoItem* hoveredAmmo = nullptr;
float hoveredMouseX = 0.0f;
float hoveredMouseY = 0.0f;
```

## Технические детали

### Структура данных AmmoItem
```cpp
struct AmmoItem {
    AmmoType type;
    std::string name;
    int price;
    int quantity;
};
```

### Типы патронов
```cpp
enum class AmmoType : uint8_t {
    AMMO_9x18 = 0,    // Pistol ammo
    AMMO_5_45x39 = 1, // Rifle ammo
    AMMO_7_62x54 = 2  // Sniper ammo
};
```

## Использование

1. Откройте магазин клавишей **B** (находясь рядом с магазином)
2. Наведите курсор мыши на любой слот с патронами
3. Автоматически появится всплывающая подсказка с информацией
4. Уберите курсор - подсказка исчезнет

## Преимущества реализации

✅ **Информативность** - игрок видит всю необходимую информацию о патронах
✅ **Совместимость** - показывает, для каких типов оружия подходят патроны
✅ **Единообразие** - использует тот же стиль, что и подсказки для оружия
✅ **Производительность** - объекты создаются только при наведении
✅ **Адаптивность** - подсказка автоматически позиционируется на экране

## Связанные файлы

- `Zero_Ground_client/Zero_Ground_client.cpp` - реализация для клиента
- `Zero_Ground/Zero_Ground.cpp` - реализация для сервера
- `WEAPON_TOOLTIP_FEATURE.md` - документация по подсказкам оружия
- `AMMO_PURCHASE_SYSTEM.md` - система покупки патронов

## Дата реализации
27 ноября 2025
